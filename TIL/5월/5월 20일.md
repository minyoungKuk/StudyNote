# [TIL] - ì•Œê³ ë¦¬ì¦˜ ê°•ì˜, í•¼ë¦°ì§€ë°˜ ìˆ˜ì—…, ë¦¬ì•¡íŠ¸ ìˆ™ë ¨ ê°•ì˜, ë”¥ë‹¤ì´ë¸Œ ìŠ¤í„°ë””

## âœ… ê³µë¶€í•œ ë‚´ìš©

### âœ”ï¸ [ë”¥ë‹¤ì´ë¸Œ ìŠ¤í„°ë””](https://github.com/hyeonseok98/js-deep-dive-study/blob/main/%5B14%EC%9E%A5%5D%20%EC%A0%84%EC%97%AD%20%EB%B3%80%EC%88%98%EC%9D%98%20%EB%AC%B8%EC%A0%9C%EC%A0%90/%EA%B5%AD%EB%AF%BC%EC%98%81.md)

### âœ”ï¸ ë¦¬ì•¡íŠ¸ ìˆ™ë ¨ì£¼ì°¨ - [styled-components, useState, useEffect, useRef, useContext]

#### ğŸ§š styled-components

##### ğŸŒ¿ CSS-in-JSë€?

ìë°”ìŠ¤í¬ë¦½íŠ¸ ì½”ë“œë¡œ CSS ì½”ë“œ ì‘ì„±í•˜ì—¬ ì»´í¬ë„ŒíŠ¸ë¥¼ ê¾¸ë¯¸ëŠ” ë°©ì‹

##### ğŸŒ¿ styled-componentsë€?

CSS-in-JSë°©ì‹ì„ ì‚¬ìš©í• ìˆ˜ìˆê²Œ í•´ì£¼ëŠ” íŒ¨í‚¤ì§€

#### ğŸ§š useState

- ê°€ì¥ ê¸°ë³¸ì ì¸ hool
- í•¨ìˆ˜ ì»´í¬ë„ŒíŠ¸ì—ì„œ ê°€ë³€ì ì¸ ìƒíƒœë¥¼ ê°€ì§€ê²Œ í•´ì¤Œ

```jsx
// ë°˜í™˜ëœ ë°°ì—´ì„ êµ¬ì¡° ë¶„í•´ ë¬¸ë²•ìœ¼ë¡œ êº¼ë‚´ë†“ì€ ëª¨ìŠµ
const [state, setState] = useState(initialState);

// 1. stateë¥¼ ë³€ìˆ˜ë¡œ ì‚¬ìš©í•˜ê³ , setStateë¥¼ ì´ìš©í•´ stateê°’ ìˆ˜ì •
// 2. ë§Œì•½ stateê°€ ì›ì‹œ ë°ì´í„°íƒ€ì…ì´ ì•„ë‹Œ ê°ì²´ ë°ì´í„°íƒ€ì…ì¸ ê²½ìš° ë¶ˆë³€ì„± ìœ ì§€ë¥¼ í•´ì¤˜ì•¼ í•¨
```

##### ğŸŒ¿ í•¨ìˆ˜í˜• ì—…ë°ì´íŠ¸

```jsx
// 1. ì´ì „ì— ì‚¬ìš©í•˜ë˜ ë°©ì‹
setState(number + 1);
// ë°°ì¹˜(batch)ë¡œ ì²˜ë¦¬
// ì¦‰ ì´ ëª…ë ¹ì„ ë™ì‹œì— 3ë²ˆ ë‚´ë¦°ë‹¤ê³  í•´ë„ ë¦¬ì•¡íŠ¸ëŠ” ê·¸ ëª…ë ¹ì„ í•˜ë‚˜ë¡œ ëª¨ì•„ ìµœì¢…ì ìœ¼ë¡œ í•œë²ˆë§Œ ì‹¤í–‰í•¨
// ì´ë ‡ê²Œ ë§Œë“  ì´ìœ ëŠ” ë¶ˆí•„ìš”í•œ ë¦¬ë Œë”ë§ì„ ë°©ì§€í•˜ê¸° ìœ„í•´ì„œë¼ë„¤ìš”

// í•¨ìˆ˜í˜• ì—…ë°ì´íŠ¸
setState((prev) => {
  prev + 1;
});
// ë§Œì•½ ì´ ëª…ë ¹ì„ 3ë²ˆ ë™ì‹œì— ë‚´ë¦°ë‹¤ë©´, ê·¸ ëª…ë ¹ì„ ëª¨ì•„ ìˆœì°¨ì ìœ¼ë¡œ ê°ê° 1ë²ˆì”© ì‹¤í–‰ì‹œì¼œ ì´ 3ì„ ë”í•´ì§€ëŠ” ê²ƒ

// ë¶ˆí•„ìš”í•œ propsì „ë‹¬ì„ ìµœì†Œí™” í•˜ê¸°ìœ„í•´ í•¨ìˆ˜í˜•ì„ ì¨ë³´ì~
```

#### ğŸ§š useEffect

- ë¦¬ì•¡íŠ¸ ì»´í¬ë„ŒíŠ¸ê°€ ë Œë”ë§ ëœ ì´í›„ë§ˆë‹¤ íŠ¹ì • ì‘ì—…ì„ ìˆ˜í–‰í•˜ë„ë¡ ì„¤ì •í•  ìˆ˜ ìˆëŠ” Hook (ì–´ë–¤ ì»´í¬ë„ŒíŠ¸ê°€ í™”ë©´ì— ë³´ì—¬ì¡Œì„ ë•Œ ë‚´ê°€ ë¬´ì–¸ê°€ë¥¼ ì‹¤í–‰í•˜ê³  ì‹¶ë‹¤ë©´? ë˜ëŠ” ì–´ë–¤ ì»´í¬ë„ŒíŠ¸ê°€ í™”ë©´ì—ì„œ ì‚¬ë¼ì¡Œì„ ë•Œ ë¬´ì–¸ê°€ë¥¼ ì‹¤í–‰í•˜ê³  ì‹¶ë‹¤ë©´? â¡ï¸ useEffect ì‚¬ìš©)

```jsx
import React, { useEffect } from "react";

const App = () => {
  useEffect(() => {
    // ì´ ë¶€ë¶„ì´ ì‹¤í–‰ëœë‹¤
    console.log("hello, useEffect");
  });

  return <div>Home</div>;
};

export default App;

// App ì»´í¬ë„ŒíŠ¸ê°€ ë Œë”ë§ ëœ ì´í›„ uesEffectì•ˆì˜ console.logê°€ ì‹¤í–‰
```

##### ğŸŒ¿ ì˜ì¡´ì„± ë°°ì—´(dependency array)

**useEffect hookì˜ ë™ì‘ trigger**

ì‰½ê²Œ ë§í•´ "ì´ ë°°ì—´ì— ê°’ì„ ë„£ìœ¼ë©´ ê·¸ ê°’ì´ ë°”ë€” ë•Œë§Œ useEffectë¥¼ ì‹¤í–‰í•˜ì!"

```jsx
// useEffectì˜ ë‘ë²ˆì§¸ ì¸ìê°€ ì˜ì¡´ì„± ë°°ì—´ì´ ë“¤ì–´ê°€ëŠ” ê³³
useEffect(() => {
  // ì‹¤í–‰í•˜ê³  ì‹¶ì€ í•¨ìˆ˜
}, [ì˜ì¡´ì„±ë°°ì—´]);
```

- ì˜ì¡´ì„± ë°°ì—´ ìë¦¬ì— ë¹ˆ ë°°ì—´ì´ ë“¤ì–´ê°€ë©´ : í•¨ìˆ˜ ì»´í¬ë„ŒíŠ¸ê°€ ì²˜ìŒ ë Œë”ë§ ëœ í›„ ë‹¨í•œë²ˆë§Œ ì‹¤í–‰

- ì˜ì¡´ì„± ë°°ì—´ì— ê°’ì´ ìˆëŠ” ê²½ìš° : í•´ë‹¹ ë°°ì—´ì˜ ê°’ì˜ ë³€í™”ê°€ ìƒê¸¸ ë•Œ ë¦¬ë Œë”ë§

##### ğŸŒ¿ ê°€ë³ê²Œ ë³´ëŠ” clean up

ì»´í¬ë„ŒíŠ¸ê°€ ì‚¬ë¼ì¡Œì„ ë•Œ ë¬´ì–¸ê°€ë¥¼ ì–´ë–»ê²Œ ì‹¤í–‰í• ì§€ ì •í•˜ëŠ” ê²ƒ!

```jsx
// í´ë¦°ì—…í•˜ëŠ” ë°©ë²•
import React, { useEffect } from "react";

const App = () => {
  useEffect(() => {
    // í™”ë©´ì— ì»´í¬ë„ŒíŠ¸ê°€ ë‚˜íƒ€ë‚¬ì„(mount) ë•Œ ì‹¤í–‰í•˜ê³ ì í•˜ëŠ” í•¨ìˆ˜ ë„£ëŠ” ìë¦¬

    return () => {
      // í™”ë©´ì—ì„œ ì»´í¬ë„ŒíŠ¸ê°€ ì‚¬ë¼ì¡Œì„(unmount) ë•Œ ì‹¤í–‰í•˜ê³ ì í•˜ëŠ” í•¨ìˆ˜ ë„£ëŠ” ìë¦¬
    };
  }, []);

  return <div>hello, react</div>;
};

export default App;
```

#### ğŸ§š useRef

Re-renderingê³¼ ìƒê´€ì—†ì´ ê°’ì„ ê¸°ì–µí•˜ê¸° ìœ„í•´ ì‚¬ìš©ë˜ëŠ” ê²ƒì´ ë³¸ì§ˆì ì€ íŠ¹ì§•!

- ìë°”ìŠ¤í¬ë¦½íŠ¸ DOM APIë¥¼ ì§ì ‘ ì‚¬ìš©í•˜ì§€ ì•Šê³  DOM ìš”ì†Œë¥¼ ë‹¤ë£¨ê¸° ìœ„í•œ ìš©ë„ë¡œë„ ìì£¼ ì‚¬ìš©

```jsx
import { useRef } from "react";

function App() {
  const ref = useRef("ì´ˆê¸°ê°’");
  console.log("ref", ref); // ref {current: 'ì´ˆê¸°ê°’'} // ë³€ê²½ë„ ê°€ëŠ¥í•˜ë‹¤

  ref.current = "ë°”ê¾¼ê°’";
  console.log("ref", ref); // ref {current: 'ë°”ê¾¼ê°’'}

  return (
    <div>
      <p>useRef</p>
    </div>
  );
}

export default App;
```

- **ì´ë ‡ê²Œ ì„¤ì •ëœ refê°’ì€ ì»´í¬ë„ŒíŠ¸ê°€ ê³„ì†í•´ì„œ ë Œë”ë§ ë˜ì–´ë„ unmountì „ê¹Œì§€ ê°’ì„ ìœ ì§€!**
- refëŠ” stateì™€ ë‹¬ë¦¬ ê°’ì„ ë³€ê²½í•œë‹¤ê³  ë Œë”ë§ì„ ì¼ìœ¼í‚¤ì§€ ì•ŠëŠ”ë‹¤.
- ê·¸ëŸ¬ë‹ˆ stateëŠ” ë¦¬ëŸ°ë°ë§ì´ ê¼­ í•„ìš”í•œ ê°’ì„ ë‹¤ë£° ë•Œ ì‚¬ìš©í•˜ê³ , refëŠ” ë¦¬ë Œë”ë§ì„ ë°œìƒì‹œí‚¤ì§€ ì•ŠëŠ” ê°’ì„ ì €ì¥í•  ë•Œ ì‚¬ìš©
- ë Œë”ë§ ë˜ìë§ˆì íŠ¹ì • Inputì´ focusing ë¼ì•¼ í•˜ëŠëŠ” ë“±, DOM ìš”ì†Œë¥¼ í•¸ë“¤ë§í•´ì•¼ í•˜ëŠ” ìˆœê°„ì´ë¼ë©´ refê°€ ì¢‹ì€ ì„ íƒì§€ ğŸ’›

```jsx
// refë¥¼ ì‚¬ìš©í•˜ì—¬ í¬ì»¤ì‹± ì£¼ê¸°
import { useEffect, useRef } from "react";

function App() {
  const idRef = useRef("");

  // ë Œë”ë§ ë  ë•Œ
  useEffect(() => {
    idRef.current.focus()
  }, [])

  return (
    <>
      ì•„ì´ë””: <input type="text" ref={idRef} />
      ë¹„ë°€ë²ˆí˜¸: <input type="password" />
    </ã…‘>
  )
}

export default App;
```

#### ğŸ§š useContext

useContext hookì„ í†µí•´ ì‰½ê²Œ **ì „ì—­ ë°ì´í„° ê´€ë¦¬**ë¥¼ í•  ìˆ˜ ìˆê²Œ ëœë‹¤!

##### ğŸŒ¿ context API í•„ìˆ˜ ê°œë…

- createContext : contextë¥¼ ìƒì„±
- useContext : contextë¥¼ êµ¬ë…í•˜ê³  í•´ë‹¹ contextì˜ ê°’ì„ ì½ìŒ
- Provider : contextë¥¼ í•˜ìœ„ ì»´í¬ë„ŒíŠ¸ì— ì „ë‹¬
